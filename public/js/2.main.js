webpackJsonp([2],{210:function(t,e,a){"use strict";var s=a(3),r=a(139),i=a.n(r),o=a(222),n=a.n(o);e["default"]={name:"Checkout",mixins:[s.a],components:{cart:i.a,schedule:n.a},props:["cart"],created:function(){this.$Progress.finish()},methods:{checkout:function(){var t=this;return this.loading=!0,this.$validator.validateAll(),this.errors.any()?(this.scroll("#form",750,-140),this.loading=!1,!1):(window.confirm("You are about to send a binding food order. Do you want to submit?")?this.$http.post("/api/send-order",{cart:this.cart,form:this.form,schedule:this.schedule,address:this.address}).then(function(e){t.loading=!1,t.finish=!0,t.$store.state.cart=[],t.$store.state.schedule=[],t.$store.state.address={address1:"",address1_outside:!1,address2:"",address2_outside:!1},localStorage.removeItem("cart",""),localStorage.removeItem("schedule",""),localStorage.setItem("address",JSON.stringify(t.$store.state.address)),t.scroll(".checkout",750)})["catch"](function(e){t.loading=!1,t.error=!0,t.scroll(".checkout",750)}):this.loading=!1,!1)}},data:function(){return{loading:!1,finish:!1,error:!1,form:{fname:"",lname:"",email:"",phone:"",comments:"",terms:!1,intolerances:"",intolerancesText:"",allergies:"",allergiesText:"",dislikefood:"",deliveryprice:0,totaldays:0,discount:0}}}}},216:function(t,e,a){"use strict";var s=a(3);e["default"]={name:"ScheduleList",mixins:[s.a],props:["cart"],created:function(){this.$store.dispatch("loadSchedule").then(function(){bus.$emit("scheduleIsReady")}),this.$store.dispatch("loadAddress")},methods:{getLocation:function(t){if("pickup1"!=t&&"pickup2"!=t){var e=t+"_outside",a="";return this.address[e]&&(a='<br><span class="extra"><i class="fa fa-fw fa-bus"></i> extra delivery</span>'),this.address[t]+a}return"pickup1"==t?"Avocado Cafe":"Motion Fitness"}}}},222:function(t,e,a){var s,r;s=a(216);var i=a(227);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=s},227:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.cart,function(e,s){return e?[a("div",{staticClass:"delivery-compact"},[a("div",{staticClass:"delivery-title"},[a("h2",[t._v("\n\t\t\t\t\t"+t._s(e.name)+" "+t._s(e.subname)+"\n\t\t\t\t\t"),"fullday"==e.typeraw||"singlemeal"==e.typeraw?a("span",[t._v("for "+t._s(e.totaldays)+" day(s)")]):t._e()]),t._v(" "),a("span",{staticClass:"delivery-type"},[t._v(t._s(e.type))])]),t._v(" "),a("div",{staticClass:"delivery-body"},[a("table",{staticClass:"table-schedule",attrs:{width:"100%"}},[t._l(t.schedule[e.id],function(e){return[a("tr",{staticClass:"day"},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v(t._s(e.date))])])]),t._v(" "),""!=e.breakfastLocation?a("tr",[a("td",{staticClass:"type",attrs:{width:"65%"}},[a("div",{staticClass:"type"},[t._v("Breakfast")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.getLocation(e.breakfastLocation))}})]),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{width:"10%"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.breakfast)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),""!=e.lunchLocation?a("tr",[a("td",{staticClass:"type",attrs:{width:"65%"}},[a("div",{staticClass:"type"},[t._v("Lunch")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.getLocation(e.lunchLocation))}})]),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{width:"10%"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.lunch)+"\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),""!=e.dinnerLocation?a("tr",[a("td",{staticClass:"type",attrs:{width:"65%"}},[a("div",{staticClass:"type"},[t._v("Dinner")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.getLocation(e.dinnerLocation))}})]),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{width:"10%"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.dinner)+"\n\t\t\t\t\t\t\t")])]):t._e()]}),t._v(" "),"weekly"==e.typeraw&&3==e.id&&e.easysunday?[t._m(0,!0),t._v(" "),t._m(1,!0)]:t._e()],2)])])]:t._e()})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"day"},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Easy Sunday")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"type"},[t._v("\n\t\t\t\t\t\t\t\tThe Easy Sunday food items will be delivered on Saturday, together with your Fit & Slim dishes\n\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v(" ")])])}]}},231:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout container"},[t.loading?a("div",{staticClass:"comp-loading"},[a("div",{staticClass:"el-loading-spinner"},[a("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[a("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t._v(" "),a("p",{staticClass:"el-loading-text"},[t._v("Loading...")])])]):t._e(),t._v(" "),t.finish?[t._m(0),t._v(" "),a("p",[t._v("Your food order has been submitted successfully.")]),t._v(" "),a("p",[t._v("Your Avocado Cafe Team")]),t._v(" "),a("p",[a("router-link",{staticClass:"button primary",attrs:{to:"/"}},[a("i",{staticClass:"fa fa-fw fa-angle-left"}),t._v(" back to home")])],1),t._v(" "),t._m(1)]:[a("div",{staticClass:"page-title"},[a("h2",[t._v("checkout")])]),t._v(" "),a("div",{staticClass:"info"},[t._v("\n\t\t\tYou are almost done"),a("br"),t._v("\n\t\t\tPlease check again all details and fill in your personal data below.\n\t\t")]),t._v(" "),a("br"),t._v(" "),t.error?a("div",{staticClass:"alert alert-danger"},[a("strong",[t._v("Sorry")]),t._v(", but the confirmation email could not be delivered. Check/change your email address\n\t\t")]):t._e(),t._v(" "),a("form",{attrs:{action:"/checkout",method:"post",id:"form"}},[a("h4",{staticClass:"no-pad"},[t._v("PERSONAL DATA")]),t._v(" "),a("div",{staticClass:"row section"},[a("div",{staticClass:"hidden-md-down col-md-4"},[a("p",{staticClass:"lp"},[t._v("\n\t\t\t\t\t\tEnter your details here. Fields marked with "),a("span",{staticClass:"required"},[t._v("*")]),t._v(" are required.\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-xs-6 col-md-4"},[a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{"for":"fname"}},[t._v("First name "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:t.form.fname,expression:"form.fname",modifiers:{initial:!0}},{name:"model",rawName:"v-model",value:t.form.fname,expression:"form.fname"}],"class":{"form-control":!0,"is-danger":t.errors.has("form.fname")},attrs:{type:"text","data-vv-rules":"required","data-vv-as":"First name",name:"fname",placeholder:"First name"},domProps:{value:t._s(t.form.fname)},on:{input:function(e){e.target.composing||(t.form.fname=e.target.value)}}}),t._v(" "),t.errors.has("fname")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fname")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-xs-6 col-md-4"},[a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{"for":"surname"}},[t._v("Surname "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:t.form.lname,expression:"form.lname",modifiers:{initial:!0}},{name:"model",rawName:"v-model",value:t.form.lname,expression:"form.lname"}],"class":{"form-control":!0,"is-danger":t.errors.has("form.lname")},attrs:{type:"text","data-vv-rules":"required","data-vv-as":"Surname",name:"lname",placeholder:"Surname"},domProps:{value:t._s(t.form.lname)},on:{input:function(e){e.target.composing||(t.form.lname=e.target.value)}}}),t._v(" "),t.errors.has("lname")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("lname")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-xs-6 offset-md-4 col-md-4"},[a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{"for":"date"}},[t._v("Email address "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:t.form.email,expression:"form.email",modifiers:{initial:!0}},{name:"model",rawName:"v-model.trim",value:t.form.email,expression:"form.email",modifiers:{trim:!0}}],"class":{"form-control":!0,"is-danger":t.errors.has("form.email")},attrs:{type:"text","data-vv-rules":"required|email","data-vv-as":"Email",name:"email",placeholder:"Email"},domProps:{value:t._s(t.form.email)},on:{input:function(e){e.target.composing||(t.form.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.errors.has("email")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-xs-6 col-md-4"},[a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{"for":"phone"}},[t._v("Phone number "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:t.form.phone,expression:"form.phone",modifiers:{initial:!0}},{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],"class":{"form-control":!0,"is-danger":t.errors.has("form.phone")},attrs:{type:"text","data-vv-rules":"required","data-vv-as":"Phone number",name:"phone",placeholder:"Phone number"},domProps:{value:t._s(t.form.phone)},on:{input:function(e){e.target.composing||(t.form.phone=e.target.value)}}}),t._v(" "),t.errors.has("phone")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("phone")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-xs-6 offset-md-4 col-md-4"},[a("fieldset",{staticClass:"form-group radio-only"},[a("label",{staticClass:"single"},[t._v("Food Intolerances "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("label",{attrs:{"for":"intolerances-yes"}},[a("input",{directives:[{name:"validate",rawName:"v-validate"},{name:"model",rawName:"v-model",value:t.form.intolerances,expression:"form.intolerances"}],attrs:{id:"intolerances-yes",type:"radio","data-vv-rules":"required|in:Yes,No",name:"intolerances","data-vv-as":"selection",value:"Yes"},domProps:{value:"Yes",checked:t._q(t.form.intolerances,"Yes")},on:{change:function(e){t.form.intolerances="Yes"}}}),t._v("\n\t\t\t\t\t\t\t  Yes\n\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t  \n\t\t\t\t\t\t"),a("label",{attrs:{"for":"intolerances-no"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.intolerances,expression:"form.intolerances"}],attrs:{id:"intolerances-no",type:"radio",name:"intolerances",value:"No"},domProps:{value:"No",checked:t._q(t.form.intolerances,"No")},on:{change:function(e){t.form.intolerances="No"}}}),t._v("  No\n\t\t\t\t\t\t")]),t._v(" "),t.errors.has("intolerances")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("intolerances")))]):t._e(),t._v(" "),"Yes"==t.form.intolerances?a("div",{staticClass:"extra-field"},[a("textarea",{directives:[{name:"validate",rawName:"v-validate.initial",value:t.form.intolerancesText,expression:"form.intolerancesText",modifiers:{initial:!0}},{name:"model",rawName:"v-model",value:t.form.intolerancesText,expression:"form.intolerancesText"}],"class":{"form-control":!0,"is-danger":t.errors.has("form.intolerancesText")},attrs:{type:"text","data-vv-rules":"required","data-vv-as":"Field",placeholder:"Please enter",rows:"5"},domProps:{value:t._s(t.form.intolerancesText)},on:{input:function(e){e.target.composing||(t.form.intolerancesText=e.target.value)}}}),t._v(" "),t.errors.has("form.intolerancesText")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form.intolerancesText")))]):t._e()]):t._e()])]),t._v(" "),a("div",{staticClass:"col-xs-6 col-md-4"},[a("fieldset",{staticClass:"form-group radio-only"},[a("label",{staticClass:"single"},[t._v("Food Allergies "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("label",{attrs:{"for":"allergies-yes"}},[a("input",{directives:[{name:"validate",rawName:"v-validate"},{name:"model",rawName:"v-model",value:t.form.allergies,expression:"form.allergies"}],attrs:{id:"allergies-yes",type:"radio","data-vv-rules":"required|in:Yes,No","data-vv-as":"selection",name:"allergies",value:"Yes"},domProps:{value:"Yes",checked:t._q(t.form.allergies,"Yes")},on:{change:function(e){t.form.allergies="Yes"}}}),t._v("\n\t\t\t\t\t\t\t  Yes\n\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t  \n\t\t\t\t\t\t"),a("label",{attrs:{"for":"allergies-no"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.allergies,expression:"form.allergies"}],attrs:{id:"allergies-no",type:"radio",name:"allergies",value:"No"},domProps:{value:"No",checked:t._q(t.form.allergies,"No")},on:{change:function(e){t.form.allergies="No"}}}),t._v("  No\n\t\t\t\t\t\t")]),t._v(" "),t.errors.has("allergies")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("allergies")))]):t._e(),t._v(" "),"Yes"==t.form.allergies?a("div",{staticClass:"extra-field"},[a("textarea",{directives:[{name:"validate",rawName:"v-validate.initial",value:t.form.allergiesText,expression:"form.allergiesText",modifiers:{initial:!0}},{name:"model",rawName:"v-model",value:t.form.allergiesText,expression:"form.allergiesText"}],"class":{"form-control":!0,"is-danger":t.errors.has("form.allergiesText")},attrs:{type:"text","data-vv-rules":"required","data-vv-as":"Field",placeholder:"Please enter",rows:"5"},domProps:{value:t._s(t.form.allergiesText)},on:{input:function(e){e.target.composing||(t.form.allergiesText=e.target.value)}}}),t._v(" "),t.errors.has("form.allergiesText")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form.allergiesText")))]):t._e()]):t._e()])]),t._v(" "),a("div",{staticClass:"col-xs-12 offset-md-4 col-md-8"},[a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{"for":"dislikefood"}},[t._v("Food I don't like")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.dislikefood,expression:"form.dislikefood"}],staticClass:"form-control",attrs:{placeholder:"Please enter",rows:"5"},domProps:{value:t._s(t.form.dislikefood)},on:{input:function(e){e.target.composing||(t.form.dislikefood=e.target.value)}}})])])]),t._v(" "),a("h4",{staticClass:"no-pad"},[t._v("CART OVERVIEW")]),t._v(" "),a("div",{staticClass:"row section"},[a("div",{staticClass:"hidden-md-down col-md-4"},[a("p",{staticClass:"lp"},[t._v("\n\t\t\t\t\t\tReview your selected items and press SEND ORDER to proceed.\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-xs-12 col-md-8"},[a("cart",{attrs:{cart:t.cart,extradelivery:t.form.deliveryarea}})],1)]),t._v(" "),a("h4",{staticClass:"no-pad"},[t._v("DELIVERY INFO")]),t._v(" "),a("div",{staticClass:"row section"},[a("div",{staticClass:"hidden-md-down col-md-4"},[a("p",{staticClass:"lp"},[t._v("\n\t\t\t\t\t\tReview your food delivery schedule.\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-xs-12 col-md-8"},[a("schedule",{attrs:{cart:t.cart}})],1)]),t._v(" "),a("h4",{staticClass:"no-pad"},[t._v("COMMENTS")]),t._v(" "),a("div",{staticClass:"row section"},[a("div",{staticClass:"hidden-md-down col-md-4"},[a("p",{staticClass:"lp"},[t._v("\n\t\t\t\t\t\tAny special request we should be aware of?\n\t\t\t\t\t\tFeel free to write some comments here.\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-xs-12 col-md-8"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.comments,expression:"form.comments"}],staticClass:"form-control",attrs:{name:"comments",rows:"10"},domProps:{value:t._s(t.form.comments)},on:{input:function(e){e.target.composing||(t.form.comments=e.target.value)}}})])]),t._v(" "),a("br"),a("br"),t._v(" "),a("div",{staticClass:"text-xs-center"},[a("router-link",{staticClass:"button primary big",attrs:{to:"/overview"}},[t._v("\n\t\t\t\t\tback\n\t\t\t\t")]),t._v("\n\t\t\t\t \n\t\t\t\t"),this.cartState.length>0?a("a",{staticClass:"button yellow big",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.checkout(e)}}},[t._v("\n\t\t\t\t\tsend order "),a("i",{staticClass:"fa fa-fw fa-angle-right"})]):t._e()],1)])]],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[a("h2",[t._v("thank you")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("figure",[a("img",{staticClass:"responsive",attrs:{src:"/images/thankyou.jpg?v=1",alt:""}})])}]}},7:function(t,e,a){var s,r;s=a(210);var i=a(231);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=s}});